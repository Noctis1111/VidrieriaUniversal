<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>VIDRIERIA - UNIVERSAL</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>


    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="index.html">VIDRIERIA UNIVERSAL</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars"></i>
                </button>



                     <!-- MENU -->
              <div class="collapse navbar-collapse" id="navbarResponsive">
                  <ul class="navbar-nav ms-auto">
                      <li class="nav-item"><a class="nav-link" href="vidrio.html">VIDRIO</a></li>
                      <li class="nav-item"><a class="nav-link" href="ventanas.html" >VENTANAS</a></li>
                      <li class="nav-item"><a class="nav-link" href="puertas.html" >PUERTAS</a></li>
                      <li class="nav-item"><a class="nav-link" href="vitrinas.html">VITRINAS</a></li>
                      <li class="nav-item"><a class="nav-link" href="aluminio.html">ALUMINIO</a></li>
                      <li class="nav-item"><a class="nav-link" href="galeria.html">GALERIA</a></li>
                 </ul>
              </div>
            </div>
        </nav>
        <!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead-->
        <!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead-->
        <!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead--><!-- Masthead-->
<header class="masthead">
    <div class="container justify-content-center px-4 px-lg-5 d-flex h-100 align-items-center">
        <main>
            <h2 class="mx-auto my-5 text-uppercase text-center">SISTEMA, CON MARCO Y ESTRUCTURA</h2>
        <div class="row justify-content-center">
            <div class="col-5 mx-auto text-center">



                <h4 class="text-white-50">
                    <label class="text-white-50 form-label" for="altura">Altura (cm):</label>
                </h4>
                <input type="number" class="form-control" id="altura" placeholder="Ingrese la altura de la ventana">

                <h4 class="text-white-50">
                    <label class="text-white-50 form-label" for="ancho">Ancho (cm):</label>
                </h4>
                <input type="number" class="form-control" id="ancho" placeholder="Ingrese el ancho de la ventana">


                <h4 class="text-white-50">
                    <label class="text-white-50 form-label mb-4" for="tipoVentana">Tipo de Ventana:</label>
                 </h4>
                 <select class="form-select mb-4" id="tipoVentana">
                    <option value="10" data-category="sistema">Sistema triple (10 por unidad)</option>
                    <option value="9" data-category="sistema">Sistema doble (9 por unidad)</option>
                    <option value="9" data-category="sistema">Sistema catedral (9 por unidad)</option>
                    <option value="20" data-category="conMarco">Con marco triple (20 por unidad)</option>
                    <option value="18" data-category="conMarco">Con marco doble (18 por unidad)</option>
                    <option value="25" data-category="estructura">Estructura (25 por unidad)</option>
                 </select>
                        <div class="text-white-50 mt-3 mb-3 text-center" id="resultado"></div>
                        <div class="text-white-50 mt-3 mb-3 text-center" id="totalGuardado"></div>

                <div class="row container justify-content-center">
                    <div class="col text-center">
                        <button type="button" class="opacity-75 btn btn-primary me-2" onclick="calcularPrecio()">Calcular Precio</button>
                    </div>
                    <div class="col text-center">
                        <button type="button" class="opacity-75 btn btn-secondary" onclick="guardarPrecio()">Guardar Precio</button>
                    </div>
                </div>







            </div>
            <div class="col-5 mx-auto text-center">
                <h4 class="text-white-50 text-uppercase text-center">Datos almacenados</h4>
                <h4 class="text-white-50 mx-auto mt-2">Datos Almacenados - Sistema:</h4>
                <ul class="list-group mb-3 text-white-50" id="listaSistema"></ul>

                <h4 class="text-white-50 mx-auto mt-2">Datos Almacenados - Con Marco:</h4>
                <ul class="list-group mb-3 text-white-50" id="listaConMarco"></ul>

                <h4 class="text-white-50 mx-auto mt-2">Datos Almacenados - Estructura:</h4>
                <ul class="list-group mb-3 text-white-50" id="listaEstructura"></ul>
            </div>
        </div>
        </main>
    </div>
    </header>




<script>
        let sistemaGuardado = [];
        let conMarcoGuardado = [];
        let estructuraGuardado = [];

        function calcularPrecio() {
            const altura = parseFloat(document.getElementById('altura').value);
            const ancho = parseFloat(document.getElementById('ancho').value);
            const tipoVentana = document.getElementById('tipoVentana');
            const precioPorUnidad = parseFloat(tipoVentana.value);
            const categoria = tipoVentana.selectedOptions[0].getAttribute('data-category');

            if (isNaN(altura) || isNaN(ancho) || altura <= 0 || ancho <= 0) {
                alert('Por favor, ingrese dimensiones vÃ¡lidas.');
                return;
            }

            const area = (altura * ancho) / 900;
            const precioTotal = area * precioPorUnidad;

            document.getElementById('resultado').innerHTML = `Costo Total: S/.${precioTotal.toFixed(2)}`;

            return { altura, ancho, precioTotal, categoria };
        }

        function guardarPrecio() {
            const ventana = calcularPrecio();
            if (ventana) {
                if (ventana.categoria === "sistema") {
                    sistemaGuardado.push(ventana);
                    actualizarListaPrecios(sistemaGuardado, "listaSistema");
                } else if (ventana.categoria === "conMarco") {
                    conMarcoGuardado.push(ventana);
                    actualizarListaPrecios(conMarcoGuardado, "listaConMarco");
                } else if (ventana.categoria === "estructura") {
                    estructuraGuardado.push(ventana);
                    actualizarListaPrecios(estructuraGuardado, "listaEstructura");
                }
                calcularTotalGuardado();
            }
        }

        function actualizarListaPrecios(array, listaId) {
            const lista = document.getElementById(listaId);
            lista.innerHTML = '';
            array.forEach((ventana, index) => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `${index + 1}. Ancho: ${ventana.ancho} cm, Altura: ${ventana.altura} cm - Precio: S/.${ventana.precioTotal.toFixed(2)}`;
                lista.appendChild(listItem);
            });
        }

        function calcularTotalGuardado() {
            const totalSistema = sistemaGuardado.reduce((sum, ventana) => sum + ventana.precioTotal, 0);
            const totalConMarco = conMarcoGuardado.reduce((sum, ventana) => sum + ventana.precioTotal, 0);
            const totalEstructura = estructuraGuardado.reduce((sum, ventana) => sum + ventana.precioTotal, 0);
            const total = totalSistema + totalConMarco + totalEstructura;

            document.getElementById('totalGuardado').innerHTML = 'Total Acumulado: S/.' + total.toFixed(2);
        }
    </script>
</body>
</html>
